data Nat : Ty
| 0 : Nat
| (++#) : Nat -> Nat

data _.List#Ty : Ty -> Ty
| nil[A : Ty] : A .List
| _::#_.List#Ty[A : Ty] : A & A .List -> A .List

val last-nat : Nat .List -> Nat
let nil => 0
let (x :: xs) =>
  case xs
  | nil => x
  | y :: ys => last-nat xs
  end

val last-nat' : Nat .List -> Nat
let nil => 0
let (x :: xs) =>
  case xs
  | nil => x
  | y :: ys => last-nat' (y :: ys)
  end

data _.Stream#Ty : Ty -> Ty
| nils[A : Ty] : [] -> A .Stream
| _::#_.Stream#Ty[A : Ty] : ([] -> A) & ([] -> A .Stream) -> [] -> A .Stream

val last-nat-Stream : Nat .Stream -> Nat
let nils => 0
let (x :: xs) =>
  case xs []
  | nils => x
  | y :: ys => last-nat-Stream xs
  end

val last-nat'-Stream : Nat .Stream -> Nat
let nils => 0
let (x :: xs) =>
  case xs []
  | nils => x
  | y :: ys => last-nat'-Stream (y :: ys)
  end
